<!DOCTYPE>
<html>
    <title> Amazonomics </title>
    <style>
        html {background-color: rgb(70,70,70);}
        #bodyoutline{border: 1px solid black; padding: 50px;}
        body{
            background-color: white;
            width: 70%;
            margin: auto;
            border: 10px solid white;
            font-family: times;
            font-size: 15px;
            overflow-x: hidden;
        }
        #time_input, iframe{display: none;}
        iframe {border: none; height: 475px;}
        .alogo{height: 60px;}
        #title{
                font-size: 30px; font-weight: bold;}
        header{text-align: center;}
        b, i {
            vertical-align: center; padding: 5px 10px;}
        #time_input select{width:25%;}
        #r {width: 50%;}
        #r:hover{cursor: pointer;}
        input[type='checkbox'] {
            height: 12px;
            width: 12px;
            vertical-align: center;
        }
        #time_cbox {
            display: inline-block; align: center;}
        form {
            border: 3px solid rgb(240,240,240);
            padding: 15px;
            width: 75%;
            margin: auto;
        }
        .sect {display: block; text-align: center;}
        .star {height: 15px;}
        #rstars, #rstars2 {display: inline-block;}
        input[type="submit"] {
            display: block;
            width: 50%;
            text-align: center;
            margin: auto;
        }
        #load_msg{
            background-color: rgba(0,0,0,0.9);
            z-index: 100;
            position: fixed;
            height: 40px;
            width: 100%;
            top: 50%;
            left: 0;
            border-top: dashed white;
            border-bottom: dashed white;
            display: none;
            vertical-align: center;
    	}
       #msg {
            color: white;
            font-size: 30px;
            display: block;
            text-align: center;}
    </style>

    <script>
        function updateR(val, id) {
            var rstars = document.getElementById(id);
            rstars.innerHTML = "";
            for (i=0; i < 5-val; i++) {
                rstars.innerHTML += "<img src='/static/emptystar.png' class='star' alt='empty star' align='right'>";
            }
            for (i=0; i < val; i++) {
                rstars.innerHTML += "<img src='/static/fullstar.png' class='star' alt='full star' align='right'>"
            }
        }
        function update_iF(id) {
            var frame = document.getElementById(id);
            frame.style.display = "block";
            var load = document.getElementById("load_msg");
            load.style.display = "block";
        }
    </script>

    <div id="bodyoutline">
    <header>
        <img src="/static/amazon.png" class="alogo" alt="amazon_logo" align="left">
        <img src="/static/amazon.png" class="alogo" alt="amazon_logo" align="right">
        <p id="title"> Amazonomics </p>
        <p><i> Using market data to predict consumer behavior </i></p>
        <p> This site uses Amazon data from May 1996 - July 2014 </p>
    </header>

    <body>
    <!-- {opts: [industries]} -->
        <div id="load_msg">
            <b id="msg" class="center">Your results are loading -Please wait.</b>
        </div>
        <div class="sect">
        <h3> Choose a rating to find the change in sentiment over time </h3>
            <form method="POST" action="/results/sent/" target="sent" onsubmit="update_iF('sent')">
                <b class="rate">Rating: </b>
                <input type="range" id="r" name="rating" min="1" max="5" value="1" onchange="updateR(this.value,'rstars')">
                <div id="rstars">
                {% for i in range(4) %}
                    <img src="/static/emptystar.png" class="star" alt="empty star" align="right">
                {% endfor %}
                <img src="/static/fullstar.png" class="star" alt="full star" align="right">
                </div>
                <br><br>
                <b> Departments </b>
                <select name="dept">
                {% for ind in opts %}
                    <option value="{{ind}}">{{ind}}</option>
                {% endfor %}
                </select><br><br>
                <input type="submit" value="Submit">
            </form>
            <iframe src="about:blank" id="sent" name="sent" width="100%"></iframe>
        </div>
        <div class="sect">
        <h3> Emotional Analysis </h3>
            <form method="POST" action="/results/emot/" target="emot" onsubmit="update_iF('emot')">
                <b class="rate">Rating: </b>
                <input type="range" id="r" name="rating" min="1" max="5" value="1" onchange="updateR(this.value, 'rstars2')">
                <div id="rstars2">
                {% for i in range(4) %}
                    <img src="/static/emptystar.png" class="star" alt="empty star" align="right">
                {% endfor %}
                <img src="/static/fullstar.png" class="star" alt="full star" align="right">
                </div>
                <br><br>
                <b> Departments </b>
                <select name="dept">
                {% for ind in opts[1:] %}
                    <option value="{{ind}}">{{ind}}</option>
                {% endfor %}
                </select>
                <br><br><br><input type="submit" value="Submit">
            </form>
            <iframe src="about:blank" id="emot" name="emot" width="100%"></iframe>
        </div>
        <div class="sect">
        <h3> Review Rating by Year/Quarter </h3>
            <form method="POST" action="/results/quart/" target="quart" onsubmit="update_iF('quart')">
                <b> Departments </b>
                <select name="dept">
                {% for ind in opts[1:] %}
                    <option value="{{ind}}">{{ind}}</option>
                {% endfor %}
                </select> <br><br>
                <i>Number of Reviews By Quarter <input type="radio" name="time_span" value="count" checked>
                Average Review Rating By Quarter <input type="radio" name="time_span" value="avg"> </i>
                <br><br><br><input type="submit" value="Submit">
            </form>
            <iframe src="about:blank" id="quart" name="quart" width="100%"></iframe>
        </div>
    </body>
    </div>

</html>